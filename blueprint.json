{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "meta": {
    "title": "WPNuxt WordPress",
    "description": "WordPress configured for use with WPNuxt: WPGraphQL plugin, pretty permalinks, and sample content.",
    "author": "WPNuxt"
  },
  "landingPage": "/wp-admin/",
  "preferredVersions": {
    "php": "8.3",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "login": true,
  "plugins": ["wp-graphql"],
  "siteOptions": {
    "blogname": "WPNuxt",
    "blogdescription": "Headless WordPress with WPNuxt",
    "permalink_structure": "/%postname%/"
  },
  "steps": [
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/mu-plugins/rewrite.php",
      "data": "<?php add_action('after_setup_theme', function() { global $wp_rewrite; $wp_rewrite->set_permalink_structure('/%postname%/'); $wp_rewrite->flush_rules(); });"
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/mu-plugins/graphql-no-redirect.php",
      "data": "<?php /* Skip Playground auto-login redirect for GraphQL API requests */ add_action('muplugins_loaded', function() { if (isset($_SERVER['REQUEST_URI']) && strpos($_SERVER['REQUEST_URI'], '/graphql') !== false) { $_COOKIE['playground_auto_login_already_happened'] = '1'; } }, 0);"
    },
    {
      "step": "runPHP",
      "code": "<?php require '/wordpress/wp-load.php'; require_once ABSPATH . 'wp-admin/includes/image.php'; $settings = get_option('graphql_general_settings', array()); $settings['public_introspection_enabled'] = 'on'; update_option('graphql_general_settings', $settings); wp_delete_post(1, true); wp_delete_comment(1, true); function create_image_attachment($file, $title) { $filetype = wp_check_filetype(basename($file)); $attachment_id = wp_insert_attachment(array('post_mime_type' => $filetype['type'], 'post_title' => $title, 'post_content' => '', 'post_status' => 'inherit'), $file); $metadata = wp_generate_attachment_metadata($attachment_id, $file); wp_update_attachment_metadata($attachment_id, $metadata); return $attachment_id; } $img1 = create_image_attachment('/wordpress/wp-content/uploads/blueprint/getting-started.png', 'Getting started with WPNuxt'); $img2 = create_image_attachment('/wordpress/wp-content/uploads/blueprint/headless-wordpress.png', 'Why go headless with WordPress'); $img3 = create_image_attachment('/wordpress/wp-content/uploads/blueprint/graphql-data.png', 'Fetching data with GraphQL'); $img4 = create_image_attachment('/wordpress/wp-content/uploads/blueprint/deploying.png', 'Deploying your WPNuxt site'); $cat_news = wp_insert_term('News', 'category'); $cat_news = $cat_news['term_id']; $cat_tutorials = wp_insert_term('Tutorials', 'category'); $cat_tutorials = $cat_tutorials['term_id']; $cat_updates = wp_insert_term('Updates', 'category'); $cat_updates = $cat_updates['term_id']; $about_id = wp_insert_post(array('post_title' => 'About', 'post_content' => '<!-- wp:heading -->\n<h2>About this site</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This is a headless WordPress site built with WPNuxt. WordPress serves as the content management system, while the frontend is powered by Nuxt and Vue.js.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading {\"level\":3} -->\n<h3>How it works</h3>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Content is fetched from WordPress via the WPGraphQL plugin, which exposes a GraphQL API. The Nuxt frontend queries this API at build time and on the server to render pages.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading {\"level\":3} -->\n<h3>Technology stack</h3>\n<!-- /wp:heading -->\n\n<!-- wp:list -->\n<ul><!-- wp:list-item -->\n<li><strong>CMS</strong> — WordPress with WPGraphQL</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li><strong>Frontend</strong> — Nuxt 4 with Nuxt UI</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li><strong>Framework</strong> — WPNuxt for seamless integration</li>\n<!-- /wp:list-item --></ul>\n<!-- /wp:list -->', 'post_status' => 'publish', 'post_type' => 'page', 'post_author' => 1)); $contact_id = wp_insert_post(array('post_title' => 'Contact', 'post_content' => '<!-- wp:heading -->\n<h2>Get in touch</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Have questions about WPNuxt or this starter template? Here are some ways to reach us:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><!-- wp:list-item -->\n<li><strong>GitHub</strong> — <a href=\"https://github.com/wpnuxt/wpnuxt/issues\">github.com/wpnuxt/wpnuxt/issues</a></li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li><strong>Documentation</strong> — <a href=\"https://wpnuxt.com\">wpnuxt.com</a></li>\n<!-- /wp:list-item --></ul>\n<!-- /wp:list -->', 'post_status' => 'publish', 'post_type' => 'page', 'post_author' => 1)); $p1 = wp_insert_post(array('post_title' => 'Getting started with WPNuxt', 'post_content' => '<!-- wp:paragraph -->\n<p>WPNuxt makes it easy to build a modern frontend for your WordPress site. In this post, we will walk through the basics of setting up your first project.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Prerequisites</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Before you begin, make sure you have Node.js installed and a WordPress site with the WPGraphQL plugin activated.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Creating a new project</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>The quickest way to get started is using the starter template:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:code -->\n<pre class=\"wp-block-code\"><code>npm create nuxt@latest -- -t github:wpnuxt/starter</code></pre>\n<!-- /wp:code -->\n\n<!-- wp:paragraph -->\n<p>This sets up a Nuxt project pre-configured with WPNuxt and Nuxt UI. Update the <code>WPNUXT_WORDPRESS_URL</code> in your <code>.env</code> file to point to your WordPress site, and you are ready to go.</p>\n<!-- /wp:paragraph -->', 'post_status' => 'publish', 'post_type' => 'post', 'post_author' => 1, 'post_category' => array($cat_tutorials))); set_post_thumbnail($p1, $img1); $p2 = wp_insert_post(array('post_title' => 'Why go headless with WordPress?', 'post_content' => '<!-- wp:paragraph -->\n<p>Headless WordPress decouples the content management backend from the frontend presentation layer. This architecture offers several advantages for modern web development.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Performance</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>By using a framework like Nuxt on the frontend, you get server-side rendering, static generation, and smart caching out of the box. Pages load faster and score higher on Core Web Vitals.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Developer experience</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Frontend developers can work with Vue.js and modern tooling while content editors continue using the familiar WordPress admin. Everyone works with the tools they know best.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Flexibility</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>With GraphQL, you fetch exactly the data you need. No more, no less. This means leaner pages and full control over how content is displayed.</p>\n<!-- /wp:paragraph -->', 'post_status' => 'publish', 'post_type' => 'post', 'post_author' => 1, 'post_category' => array($cat_news))); set_post_thumbnail($p2, $img2); $p3 = wp_insert_post(array('post_title' => 'Fetching data with GraphQL', 'post_content' => '<!-- wp:paragraph -->\n<p>WPNuxt uses GraphQL to fetch content from WordPress. The WPGraphQL plugin exposes your WordPress data through a GraphQL API, and WPNuxt generates type-safe composables for your queries.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Auto-generated composables</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>When you define a <code>.gql</code> file in the <code>queries</code> directory, WPNuxt automatically generates a Vue composable for it. For example, a <code>Posts.gql</code> query gives you a <code>usePosts()</code> composable.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:code -->\n<pre class=\"wp-block-code\"><code>const { data: posts } = await usePosts()</code></pre>\n<!-- /wp:code -->\n\n<!-- wp:heading -->\n<h2>Custom queries</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>You can extend the default queries by adding <code>.gql</code> files to the <code>extend/queries</code> directory. These are merged with the built-in queries during the build process.</p>\n<!-- /wp:paragraph -->', 'post_status' => 'publish', 'post_type' => 'post', 'post_author' => 1, 'post_category' => array($cat_tutorials))); set_post_thumbnail($p3, $img3); $p4 = wp_insert_post(array('post_title' => 'Deploying your WPNuxt site', 'post_content' => '<!-- wp:paragraph -->\n<p>Once your WPNuxt site is ready, deploying it is straightforward. The starter template includes a one-click deploy button for Vercel, but you have several options.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Vercel</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Vercel offers the simplest deployment experience for Nuxt applications. Push your code to GitHub and connect the repository to Vercel. Set the <code>WPNUXT_WORDPRESS_URL</code> environment variable and deploy.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2>Other platforms</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>WPNuxt works with any platform that supports Nuxt, including Netlify, Cloudflare Pages, and self-hosted Node.js servers. Check the Nuxt deployment documentation for platform-specific guides.</p>\n<!-- /wp:paragraph -->', 'post_status' => 'publish', 'post_type' => 'post', 'post_author' => 1, 'post_category' => array($cat_updates))); set_post_thumbnail($p4, $img4); $menu_id = wp_create_nav_menu('main'); wp_update_nav_menu_item($menu_id, 0, array('menu-item-title' => 'Home', 'menu-item-url' => home_url('/'), 'menu-item-status' => 'publish', 'menu-item-type' => 'custom')); wp_update_nav_menu_item($menu_id, 0, array('menu-item-title' => 'About', 'menu-item-object-id' => $about_id, 'menu-item-object' => 'page', 'menu-item-type' => 'post_type', 'menu-item-status' => 'publish')); wp_update_nav_menu_item($menu_id, 0, array('menu-item-title' => 'Contact', 'menu-item-object-id' => $contact_id, 'menu-item-object' => 'page', 'menu-item-type' => 'post_type', 'menu-item-status' => 'publish')); $locations = get_theme_mod('nav_menu_locations'); $locations['main'] = $menu_id; set_theme_mod('nav_menu_locations', $locations);"
    }
  ]
}
